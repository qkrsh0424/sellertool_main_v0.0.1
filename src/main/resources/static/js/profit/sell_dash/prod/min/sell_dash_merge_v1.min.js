function calandarHandler(){return{setInitDate:function(){let t=new Date,e=new Date,s=new Date;t.setHours(0,0,0,0),e.setHours(23,59,59,999),s.setHours(9,0,0,0),DATE_SETTING.startDate=t.toUTCString(),DATE_SETTING.endDate=e.toUTCString(),DATE_SETTING.sellDate=s.toUTCString()},designCalandar_ty:function(){$("#i_search_date").daterangepicker({language:"kr",singleDatePicker:!0,changeYear:!0,changeMonth:!0,autoApply:!0,dateFormat:"yy-mm-dd",cssClass:"e-date-icon",showMonthAfterYear:!0,showCustomRangeLabel:!1,dayNamesMin:["일","월","화","수","목","금","토"],monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],ranges:{"오늘":[moment(),moment()],"어제":[moment().subtract(1,"days"),moment().subtract(1,"days")],"2일전":[moment().subtract(2,"days"),moment().subtract(2,"days")],"7일전":[moment().subtract(7,"days"),moment().subtract(7,"days")],"14일전":[moment().subtract(14,"days"),moment().subtract(14,"days")],"21일전":[moment().subtract(21,"days"),moment().subtract(21,"days")],"30일전":[moment().subtract(30,"days"),moment().subtract(30,"days")]},locale:{format:"선택된 날짜 : YYYY.MM.DD",applyLabel:"적용",cancelLabel:"취소",customRangeLabel:"",daysOfWeek:["일","월","화","수","목","금","토"],monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]}},(function(t,e){let s=new Date(t._d),a=new Date(e._d);calandarHandler().dateChange(s,a)}))},dateChange:function(t,e){let s=t,a=e,n=s;n.setHours(9,0,0,0),DATE_SETTING.startDate=s.toUTCString(),DATE_SETTING.endDate=a.toUTCString(),DATE_SETTING.sellDate=n.toUTCString(),eventItemHandler().sellItemSearchClick()},setCurrentTimeHtml:function(){let t=new Date;$("#i_timezone_current_time").html(t)}}}function sellDashDataConnect(){return{getRegItems:async function(){await $.ajax({url:"/api/item_manager/search/regitem/all",type:"GET",contentType:"application/json",dataType:"json",beforeSend:function(t){$("div[sttr=loading]").removeClass("display-none")},complete:function(){$("div[sttr=loading]").addClass("display-none")},success:function(t){if("SUCCESS"===t.message)SEARCH_EL_ITEMS=t.data;else if("USER_INVALID"===t.message)return alert("로그인 세션이 만료되었습니다."),window.location.href="/login"},error:function(t){alert("undefined error code : SDGRI")}})},setSellItems:async function(){let t=JSON.stringify({items:SELECTED_SEARCH_ITEMS,sellDate:DATE_SETTING.sellDate});await $.ajax({url:"/api/item_manager/add/sell_item/one",type:"POST",contentType:"application/json",dataType:"json",data:t,beforeSend:function(t){t.setRequestHeader("X-XSRF-TOKEN",$("#i_st_sd_csrf").val()),$("div[sttr=loading]").removeClass("display-none")},complete:function(){$("div[sttr=loading]").addClass("display-none")},success:function(t){return"USER_INVALID"===t.message?(alert("세션이 만료되었습니다."),window.location.href="/login"):"SUCCESS"===t.message?void 0:"FAILURE"===t.message?(alert("DB Search fail code : SDSSI500"),window.location.reload()):(alert("undefined fail code : SDSSI"),window.location.reload())},error:function(t){return 403===t.status?(alert("세션이 만료되었습니다."),window.location.reload()):(alert("undefined error code : SDSSI"),window.location.reload())}})},getClassifys:async function(){await $.ajax({url:"/api/item_manager/search/classifys/byuser",type:"GET",contentType:"application/json",dataType:"json",beforeSend:function(t){$("div[sttr=loading]").removeClass("display-none")},complete:function(){$("div[sttr=loading]").addClass("display-none")},success:function(t){return"USER_INVALID"===t.message?(alert("세션이 만료되었습니다."),window.location.href="/login"):"SUCCESS"===t.message?void(CLASSIFYS=t.classifys):"FAILURE"===t.message?(alert("DB Search fail code : SDGC500"),window.location.reload()):(alert("undefined fail code : SDGC"),window.location.reload())},error:function(t){return 403===t.status?(alert("세션이 만료되었습니다."),window.location.reload()):void alert("undefined error code : SDGC")}})},getOptions:async function(t){await $.ajax({url:"/api/item_manager/search/options/byclassify",type:"GET",contentType:"application/json",dataType:"json",data:{classifyUuid:t},success:function(t){return"USER_INVALID"===t.message?(alert("세션이 만료되었습니다."),window.location.href="/login"):"SUCCESS"===t.message?void(OPTIONS=t.options):"FAILURE"===t.message?(alert("DB Search fail code : SDGO500"),window.location.reload()):(alert("undefined fail code : SDGO"),window.location.reload())},error:function(t){return 403===t.status?(alert("세션이 만료되었습니다."),window.location.reload()):void alert("undefined error code : SDGO")}})},getSellItems:async function(){let t={startDate:DATE_SETTING.startDate,endDate:DATE_SETTING.endDate};await $.ajax({url:"/api/item_manager/search/sell_item/time",type:"GET",contentType:"application/json",dataType:"json",data:t,beforeSend:function(t){$("div[sttr=loading]").removeClass("display-none")},complete:function(){$("div[sttr=loading]").addClass("display-none")},success:function(t){if("USER_INVALID"===t.message)return alert("로그인 세션이 만료되었습니다."),window.location.href="/login";SELL_ITEMS=t.data},error:function(t){alert("undefined error code : SDGSI")}})},updateSellItemBySellId:function(t){let e=SELL_ITEMS.filter(e=>e.sellId==t)[0],s=JSON.stringify(e);$.ajax({url:"/api/item_manager/update/sell_item/def",type:"POST",contentType:"application/json",dataType:"json",data:s,beforeSend:function(t){t.setRequestHeader("X-XSRF-TOKEN",$("#i_st_sd_csrf").val()),$("div[sttr=loading]").removeClass("display-none")},complete:function(){$("div[sttr=loading]").addClass("display-none")},success:function(t){return"USER_INVALID"===t.message?(alert("세션이 만료되었습니다."),window.location.href="/login"):"SUCCESS"===t.message?void(SAVE_SELLID=[]):"FAILURE"===t.message?(alert("DB Search fail code : SDUSIBS500"),window.location.reload()):(alert("undefined fail code : SDUSIBS"),window.location.reload())},error:function(t){return 403===t.status?(alert("세션이 만료되었습니다."),window.location.reload()):(alert("undefined error code : SDUSIBS"),window.location.reload())}})},deleteSellItemBySellItem:function(t){let e=JSON.stringify(t);$.ajax({url:"/api/item_manager/delete/sell_item/one",type:"POST",contentType:"application/json",dataType:"json",data:e,beforeSend:function(t){t.setRequestHeader("X-XSRF-TOKEN",$("#i_st_sd_csrf").val())},success:function(t){return"USER_INVALID"===t.message?(alert("세션이 만료되었습니다."),window.location.href="/login"):"SUCCESS"===t.message?void 0:"FAILURE"===t.message?(alert("DB Search fail code : SDDSIBS500"),window.location.reload()):(alert("undefined fail code : SDDSIBS"),window.location.reload())},error:function(t){return 403===t.status?(alert("세션이 만료되었습니다."),window.location.reload()):(alert("undefined error code : SDDSIBS"),window.location.reload())}})},getStores:async function(){await $.ajax({url:"/api/item_store/get/all",type:"GET",contentType:"application/json",dataType:"json",beforeSend:function(t){$("div[sttr=loading]").removeClass("display-none")},complete:function(){$("div[sttr=loading]").addClass("display-none")},success:function(t){STORE_LIST=t},error:function(t){alert("undefined error code : SDGS")}})}}}function loadGoodsHtml(){return{sellItemsHtml:function(){$("#i_sell_item_list").html('\n                <table class="table overflow-table">\n                    <thead class="thead-dark">\n                    <tr>\n                        <th scope="col" width="50">#</th>\n                        <th scope="col" width="100">컨트롤러</th>\n                        <th scope="col" width="100">판매 개수 [개]</th>\n                        <th scope="col" width="100">상품당 매출액 [원]</th>\n                        <th scope="col" width="100">상품당 순수익 [원]</th>\n                        <th scope="col" width="200">마켓 종류</th>\n                        <th scope="col" width="200">마켓 수수료 [%]</th>\n                        <th scope="col" width="200">판매가 [원]<span class="text-success">(+)</span></th>\n                        <th scope="col" width="200">소비자 운임비용 [원]<span class="text-success">(+)</span></th>\n                        <th scope="col" width="200">판매자 실질 운임비용 [원]<span class="text-danger">(-)</span></th>\n                        <th scope="col" width="200">매입 가격 | 구매 비용 [원]<span class="text-danger">(-)</span></th>\n                        <th scope="col" width="200">매입 운임 비용 [원]<span class="text-danger">(-)</span></th>\n                        <th scope="col" width="200">기타 비용 [원]<span class="text-danger">(-)</span></th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    </tbody>\n                </table>\n            ')},showHaveItemSetListHtml(){let t="";return{classifys:function(){(SEARCHED_DATA.length>0?SEARCHED_DATA:CLASSIFYS).forEach(e=>{t+=`\n                        <div class="ty-st-sd-classify-box">\n                            <button type="button" class="ty-st-sd-items-btn" value=${e.classifyUuid} id="classify_${e.classifyUuid}" onClick="eventGoodsHandler().classifySelectOnChange(this)">${e.classifyName}</button>\n                        </div>\n                        `}),$("#ty_sell_item_classify_list").html(t)},options:function(){OPTIONS.forEach(e=>{t+=`\n                        <div class="ty-st-sd-option-box" id="ty_st_sd_option_el_${e.optionUuid}">\n                            <button type="button"  class="ty-st-sd-items-btn" value=${e.optionUuid} id="option_${e.optionUuid}"onClick="eventGoodsHandler().optionSelectOnChange('${jsonToBase64(e)}')">${e.optionName}</button>\n                        </div>\n                        `}),$("#ty_sell_item_option_list").html(t)},optionSelectedItemList:function(){BATCH_ITEM_SELECTED.forEach(e=>{t+=`\n                            <div>\n                                <span class="ty-st-sd-selected-option-list st-noselect" onclick="eventGoodsHandler().selectedItemDeleteClick('${e.index}','${e.optionUuid}')">\n                                    ${e.label}\n                                    <button type="button" class="btn btn-outline-none ty-st-sd-selected-btn" >\n                                        <i class="fas fa-times"></i>\n                                    </button>\n                                    ,\n                                </span>\n                            </div>                    \n                        `}),$("#ty_sell_item_option_selected_list").html(t)}}}}}function eventGoodsHandler(){return{showHaveItemList:async function(){BATCH_ITEM_SELECTED=[],loadGoodsHtml().showHaveItemSetListHtml().classifys()},classifySelectOnChange:async function(t){let e=t.value;await sellDashDataConnect().getOptions(e),loadGoodsHtml().showHaveItemSetListHtml().options(),eventGoodsHandler().optionsCss()},optionsCss:function(t){OPTIONS.forEach(t=>{BATCH_ITEM_SELECTED.forEach(e=>{t.optionUuid===e.optionUuid&&$("#option_"+e.optionUuid).addClass("ty_st_sd_option_el_active")})}),BATCH_ITEM_SELECTED.filter(e=>e.optionUuid.includes(t)).length<=0&&$("#option_"+t).removeClass("ty_st_sd_option_el_active")},optionSelectOnChange:function(t){let e=base64ToJson(t),s=e.optionUuid,a=!0;BATCH_ITEM_SELECTED=BATCH_ITEM_SELECTED.filter(t=>(t.optionUuid===s&&(a=!1,$("#option_"+e.optionUuid).removeClass("ty_st_sd_option_el_active")),t.optionUuid!==s));let n=SEARCH_EL_ITEMS.filter(t=>t.optionUuid===s);eventGoodsHandler().optionItemSelectedClick(n,a)},optionItemSelectedClick:function(t,e){let s=t,a={},n=e;BATCH_ITEM_SELECTED.length>=30||(n&&s.forEach(t=>{a={label:`${t.itemName}(${t.storeName})`,value:`${t.itemName}(${t.storeName})`,index:uuidv4(),itemId:t.itemId,classifyUuid:t.classifyUuid,optionUuid:t.optionUuid,itemName:t.itemName,storeType:t.storeType,storeName:t.storeName},BATCH_ITEM_SELECTED.push(a),$("#option_"+t.optionUuid).addClass("ty_st_sd_option_el_active")}),loadGoodsHtml().showHaveItemSetListHtml().optionSelectedItemList())},selectedOptionItemsSubmitClick:async function(){BATCH_ITEM_SELECTED.length<=0||(BATCH_ITEM_SELECTED.forEach(t=>{SELECTED_SEARCH_ITEMS.push(t),$("#option_"+t.optionUuid).removeClass("ty_st_sd_option_el_active")}),await sellDashDataConnect().setSellItems(),eventItemHandler().sellItemSearchClick(),BATCH_ITEM_SELECTED=[],SELECTED_SEARCH_ITEMS=[],loadGoodsHtml().showHaveItemSetListHtml().optionSelectedItemList())},selectedItemDeleteClick:function(t,e){BATCH_ITEM_SELECTED=BATCH_ITEM_SELECTED.filter(e=>e.index!=t),loadGoodsHtml().showHaveItemSetListHtml().optionSelectedItemList(),$("#ty_sell_item_option_selected_list").val(""),eventGoodsHandler().optionsCss(e)},searchClassify:function(){let t=$("#i_search_input").val();t&&t.trim().length>0?SEARCHED_DATA=CLASSIFYS.filter(e=>e.classifyName.includes(t)).sort((e,s)=>eventGoodsHandler().getRelevancy(s.classifyName,t)-eventGoodsHandler().getRelevancy(e.classifyName,t)):SEARCHED_DATA=[],loadGoodsHtml().showHaveItemSetListHtml().classifys()},getRelevancy:function(t,e){return t===e?2:t.startsWith(e)?1:t.includes(e)?0:-1}}}function loadItemHtml(){return{sellItemsHtml:function(){let t="\n            \n            ";SELL_ITEMS.forEach((e,s)=>{STORE_SELECTED.forEach(a=>{if(a.storeName===e.itemData.itemStoreName){let a=objectValueHandler().costValCalc(e),n=a.getTotSales(),l=a.getTotProfit();t+=`\n                    <tr id="ty_tr_keydown_event_box_${e.sellId}">\n                        <td scope="row">${s+1}</td>\n                        <td scope="row">\n                            <button type="button" class="btn btn-danger btn-block" onclick="eventItemHandler().sellItemDeleteClick('${e.sellId}')">삭제</button>\n                        </td>\n                        <td>${e.itemData.itemName}</td>\n                        <td>${e.itemData.itemStoreName}</td>\n                        <td id="i_td_sellTag_box_${e.sellId}">\n                        <button  class="btn ty-st-sd-items-td-btn" onclick="eventItemHandler().sellTagInputOpen('${e.sellId}', '${e.sellTag}')">\n                            <span>${e.sellTag}</span>\n                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n                                    <path fill-rule="evenodd" d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>\n                                </svg>\n                            </button>\n                        </td>\n                        \n                        <td id="i_td_sellCount_box_${e.sellId}">\n                        <button class="btn ty-st-sd-items-td-btn"" id="ty_i_sellCount_btn_${e.sellId}" onclick="eventItemHandler().sellCountInputOpen('${e.sellId}', '${e.sellCount}')">\n                            <span>${e.sellCount}</span>\n                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n                                    <path fill-rule="evenodd" d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>\n                                </svg>\n                            </button>\n                        </td>\n                        <td id="i_td_totAdsCost_box_${e.sellId}">\n                        <button class="btn ty-st-sd-items-td-btn"" onclick="eventItemHandler().totAdsCostInputOpen('${e.sellId}', '${e.sellTotAdsCost}')">\n                            <span>${numberWithCommas(e.sellTotAdsCost)}</span>\n                                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-pencil-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n                                    <path fill-rule="evenodd" d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"/>\n                                </svg>\n                            </button>\n                        </td>\n                        <td>${numberWithCommas(n)}</td>\n                        <td>${numberWithCommas(l)}</td>\n                        <td><button class="btn btn-block btn-primary" onclick="eventItemHandler().setUnitItemBatchModalOpen('${e.sellId}')">상세 보기</button></td>\n                        <td><button class="btn btn-block btn-primary" onclick="eventItemHandler().setTotalItemBatchModalOpen('${e.sellId}')">상세 보기</button></td>\n                    </tr>\n                `}})});let e=`\n                <table class="table overflow-table text-center table-hover ty-st-sd-sell-item-table">\n                    <thead class="">\n                    <tr>\n                        <th class="ty-st-sd-sort-icon" scope="col" width="50" >#<i id="ty_i_st_sd_table_sort_1" </i></th>\n                        <th scope="col" width="80">컨트롤</th>\n                        <th class="ty-st-sd-sort-icon" scope="col" width="200"  onClick="eventTableSortHandler().isClickedCheck('2')" >상품명<i id="ty_i_st_sd_table_sort_2" class="fas fa-sort"></i></th>\n                        <th scope="col" width="150" >마켓 종류</th>\n                        <th scope="col" width="150" >상품 태그</th>\n                        <th scope="col" width="120" >판매 개수<div class="st-sd-sell-unit">단위 : [개]</div></th>\n                        <th scope="col" width="200" >총 광고 비용<span class="text-danger">(-)</span><div class="st-sd-sell-unit">단위 : [원]</div></th>\n                        <th scope="col" width="200" >수익(매출) 합계<div class="st-sd-sell-unit">단위 : [원]</div></th>\n                        <th scope="col" width="200" >순수익 합계<div class="st-sd-sell-unit">단위 : [원]</div></th>\n                        <th scope="col" width="200">개당 데이터 상세</th>\n                        <th scope="col" width="200">합계 데이터 상세</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                        ${t}\n                    </tbody>\n                </table>\n            `;$("#i_sell_item_list").html(e),eventTableSortHandler().sortTableHandler()},unitModalContentSetHtml:function(t){let e=`\n                <div class="modal-content">\n                    ${`\n                <div class="modal-header">\n                    <h5 class="modal-title" id="i_sd_batch_input_modalLabel">상품명 : ${MODAL_DATA.itemName}</h5>\n                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                        <span aria-hidden="true">&times;</span>\n                    </button>\n                </div>\n            `}\n                    ${`\n                <div class="modal-header">\n                    <p class="modal-title" id="i_sd_batch_input_modalLabel">상품 태그 : ${MODAL_DATA.sellTag}</p>\n                </div>\n            `}\n                    ${`\n                <div class="modal-body">\n                    <div class="form-row">\n                        <div class="form-group col-md-6">\n                            <label for="i_sd_batch_input_commition_cost">마켓 수수료 [%]</label>\n                            <span class="float-right" style="color:gray;">&middot;&middot;&middot;&middot;&middot;&middot;[1]</span>\n                            <input type="text" class="form-control" id="i_sd_batch_input_commition_cost"\n                                value=${MODAL_DATA.sellCommitionCost} placeholder="마켓 수수료" onkeypress="return isActualNumberKey(event)"\n                                onkeyup="this.value=this.value.replace(/[ㄱ-ㅎㅏ-ㅣ가-힣]/g, '');">\n\n                            <label for="i_sd_batch_input_price">개당 판매가 [원]<span class="text-success">(+)</span></label>\n                            <span class="float-right" style="color:gray;">&middot;&middot;&middot;&middot;&middot;&middot;[2]</span>\n                            <input type="text" class="form-control" id="i_sd_batch_input_price" \n                                value=${MODAL_DATA.sellPrice}\n                                placeholder="개당 판매가" onkeypress="return isNumberKey(event)"\n                                onkeyup="this.value=this.value.replace(/[ㄱ-ㅎㅏ-ㅣ가-힣]/g, '');">\n\n                            <label for="i_sd_batch_input_customer_trans_cost">개당 소비자 운임 비용 [원]<span class="text-success">(+)</span></label>\n                            <span class="badge badge-dark" title="${TOOLTIP_TEXT.unitCustomerTransCost}">&#63;</span>\n                            <span class="float-right" style="color:gray;">&middot;&middot;&middot;&middot;&middot;&middot;[3]</span>\n                            <input type="text" class="form-control" id="i_sd_batch_input_customer_trans_cost"\n                                value=${MODAL_DATA.sellCustomerTransCost} placeholder="개당 소비자 운임 비용" onkeypress="return isNumberKey(event)"\n                                onkeyup="this.value=this.value.replace(/[ㄱ-ㅎㅏ-ㅣ가-힣]/g, '');">\n                            <label for="i_sd_batch_input_seller_real_trans_cost">개당 판매자 실질 운임 비용 [원]<span class="text-danger">(-)</span></label>\n                            <span class="badge badge-dark" title="${TOOLTIP_TEXT.unitSellerRealTransCost}">&#63;</span>\n                            <span class="float-right" style="color:gray;">&middot;&middot;&middot;&middot;&middot;&middot;[4]</span>\n                            <input type="text" class="form-control"\n                                id="i_sd_batch_input_seller_real_trans_cost" value=${MODAL_DATA.sellSellerRealTransCost}\n                                placeholder="개당 판매자 실질 운임 비용" onkeypress="return isNumberKey(event)"\n                                onkeyup="this.value=this.value.replace(/[ㄱ-ㅎㅏ-ㅣ가-힣]/g, '');">\n                        </div>\n                        <div class="form-group col-md-6">\n                            <label for="i_sd_batch_input_purchase_cost">개당 매입 가격 | 구매 비용 [원]<span class="text-danger">(-)</span></label>\n                            <span class="float-right" style="color:gray;">&middot;&middot;&middot;&middot;&middot;&middot;[5]</span>\n                            <input type="text" class="form-control" id="i_sd_batch_input_purchase_cost"\n                                value=${MODAL_DATA.sellPurchaseCost} placeholder="개당 매입 가격 | 구매 비용" onkeypress="return isNumberKey(event)"\n                                onkeyup="this.value=this.value.replace(/[ㄱ-ㅎㅏ-ㅣ가-힣]/g, '');">\n\n                            <label for="i_sd_batch_input_purchase_trans_cost">개당 매입 운임 비용 [원]<span class="text-danger">(-)</span></label>\n                            <span class="float-right" style="color:gray;">&middot;&middot;&middot;&middot;&middot;&middot;[6]</span>\n                            <input type="text" class="form-control" id="i_sd_batch_input_purchase_trans_cost"\n                                value=${MODAL_DATA.sellPurchaseTransCost} placeholder="개당 매입 운임 비용" onkeypress="return isNumberKey(event)"\n                                onkeyup="this.value=this.value.replace(/[ㄱ-ㅎㅏ-ㅣ가-힣]/g, '');">\n\n                            <label for="i_sd_batch_input_extra_charge">개당 기타 비용 [원]<span class="text-danger">(-)</span></label>\n                            <span class="float-right" style="color:gray;">&middot;&middot;&middot;&middot;&middot;&middot;[7]</span>\n                            <input type="text" class="form-control" id="i_sd_batch_input_extra_charge"\n                                value=${MODAL_DATA.sellExtraCharge} placeholder="개당 기타 비용" onkeypress="return isNumberKey(event)"\n                                onkeyup="this.value=this.value.replace(/[ㄱ-ㅎㅏ-ㅣ가-힣]/g, '');">\n                        </div>\n                        <div class="form-group col-md-12">\n                            <div id="i_sd_batch_data_profit">\n                                개당 순수익 : <span>${numberWithCommas(MODAL_DATA.unitProfit)}</span> [원]\n                                <span class="badge badge-dark" title="${TOOLTIP_TEXT.unitProfit}">&#63;</span>\n                                <span style="color:gray;">&middot;&middot;&middot;&middot;&middot;&middot;[b]</span>\n                            </div>\n                            <div id="i_sd_batch_data_profit_rate">\n                                개당 수익율 : <span>${MODAL_DATA.unitProfitRate}</span> [%]\n                                <span class="badge badge-dark" title="${TOOLTIP_TEXT.unitProfitRate}">&#63;</span>\n                                <span style="color:gray;">&middot;&middot;&middot;&middot;&middot;&middot;[c]</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `}\n                    ${`\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-primary" onclick="eventItemHandler().modalDataAdapt('${t}').setUnitValue()">적용</button>\n                    <button type="button" class="btn btn-primary" onclick="eventItemHandler().modalDataSubmitClick().submitUnitData()">등록 | 저장</button>\n                    <button type="button" class="btn btn-primary" onclick="eventItemHandler().modalClose()">닫기</button>\n                </div>\n            `}\n                </div>\n            `;$("#i_sd_batch_modal_box").html(e)},totalModalContentSetHtml:function(t){let e=`\n                <div class="modal-content">\n                    ${`\n                <div class="modal-header">\n                    <h5 class="modal-title" id="i_sd_batch_input_modalLabel">상품명 : ${MODAL_DATA.itemName}</h5>\n                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                        <span aria-hidden="true">&times;</span>\n                    </button>\n                </div>\n            `}\n                    ${`\n                <div class="modal-header">\n                    <p class="modal-title" id="i_sd_batch_input_modalLabel">상품 태그 : ${MODAL_DATA.sellTag}</p>\n                </div>\n            `}\n                    ${`\n                <div class="modal-body">\n                    <div class="form-row">\n                        <div class="form-group col-md-6">\n                            <label for="i_sd_batch_input_sell_count">판매 개수 [개]</label>\n                            <span class="float-right" style="color:gray;">&middot;&middot;&middot;&middot;&middot;&middot;[8]</span>\n                            <input type="number" class="form-control" id="i_sd_batch_input_sell_count" \n                                value=${MODAL_DATA.sellCount}\n                                placeholder="판매 개수" onkeypress="return isNumberKey(event)"\n                                onkeyup="this.value=this.value.replace(/[ㄱ-ㅎㅏ-ㅣ가-힣]/g, '');">\n\n                            <label for="i_sd_batch_input_tot_ads_cost">총 광고 비용 [원]<span class="text-danger">(-)</span></label>\n                            <span class="badge badge-dark" title="${TOOLTIP_TEXT.totAdsCost}">&#63;</span>\n                            <span class="float-right" style="color:gray;">&middot;&middot;&middot;&middot;&middot;&middot;[9]</span>\n                            <input type="text" class="form-control" id="i_sd_batch_input_tot_ads_cost" \n                                value=${MODAL_DATA.sellTotAdsCost}\n                                placeholder="총 광고 비용" onkeypress="return isNumberKey(event)"\n                                onkeyup="this.value=this.value.replace(/[ㄱ-ㅎㅏ-ㅣ가-힣]/g, '');">\n\n                            <label for="i_sd_batch_input_tot_expenses_cost">총 추가 지출 [원]<span class="text-danger">(-)</span></label>\n                            <span class="badge badge-dark" title="${TOOLTIP_TEXT.totExpensesCost}">&#63;</span>\n                            <span class="float-right" style="color:gray;">&middot;&middot;&middot;&middot;&middot;&middot;[10]</span>\n                            <input type="text" class="form-control" id="i_sd_batch_input_tot_expenses_cost"\n                                value=${MODAL_DATA.sellTotExpensesCost} placeholder="총 추가 지출" onkeypress="return isNumberKey(event)"\n                                onkeyup="this.value=this.value.replace(/[ㄱ-ㅎㅏ-ㅣ가-힣]/g, '');">\n\n                            <label for="i_sd_batch_input_tot_earning_cost">총 추가 수익 [원]<span class="text-success">(+)</span></label>\n                            <span class="badge badge-dark" title="${TOOLTIP_TEXT.totEarningCost}">&#63;</span>\n                            <span class="float-right" style="color:gray;">&middot;&middot;&middot;&middot;&middot;&middot;[11]</span>\n                            <input type="text" class="form-control"\n                                id="i_sd_batch_input_tot_earning_cost" value=${MODAL_DATA.sellTotEarningCost}\n                                placeholder="총 추가 수익" onkeypress="return isNumberKey(event)"\n                                onkeyup="this.value=this.value.replace(/[ㄱ-ㅎㅏ-ㅣ가-힣]/g, '');">\n                        </div>\n                        <div class="form-group col-md-6">\n                            <label for="i_sd_batch_input_tot_purchase_trans_cost">총 매입 운임비 [원]<span class="text-danger">(-)</span></label>\n                            <span class="badge badge-dark" title="${TOOLTIP_TEXT.totPurchaseTransCost}">&#63;</span>\n                            <span class="float-right" style="color:gray;">&middot;&middot;&middot;&middot;&middot;&middot;[12]</span>\n                            <input type="text" class="form-control" id="i_sd_batch_input_tot_purchase_trans_cost"\n                                value=${MODAL_DATA.sellTotPurchaseTransCost} placeholder="총 매입 운임비" onkeypress="return isNumberKey(event)"\n                                onkeyup="this.value=this.value.replace(/[ㄱ-ㅎㅏ-ㅣ가-힣]/g, '');">\n\n                            <label for="i_sd_batch_input_tot_customer_trans_cost">총 소비자 운임비 [원]<span class="text-success">(+)</span></label>\n                            <span class="badge badge-dark" data-toggle="tooltip" data-placement="top" title="${TOOLTIP_TEXT.totCustomerTransCost}">&#63;</span>\n                            <span class="float-right" style="color:gray;">&middot;&middot;&middot;&middot;&middot;&middot;[13]</span>\n                            <input type="text" class="form-control" id="i_sd_batch_input_tot_customer_trans_cost"\n                                value=${MODAL_DATA.sellTotCustomerTransCost} placeholder="총 소비자 운임비" onkeypress="return isNumberKey(event)"\n                                onkeyup="this.value=this.value.replace(/[ㄱ-ㅎㅏ-ㅣ가-힣]/g, '');">\n\n                            <label for="i_sd_batch_input_tot_seller_real_trans_cost">총 판매자 실질 부담 운임비 [원]<span class="text-danger">(-)</span></label>\n                            <span class="badge badge-dark" title="${TOOLTIP_TEXT.totSellerRealTransCost}">&#63;</span>\n                            <span class="float-right" style="color:gray;">&middot;&middot;&middot;&middot;&middot;&middot;[14]</span>\n                            \n                            <input type="text" class="form-control" id="i_sd_batch_input_tot_seller_real_trans_cost"\n                                value=${MODAL_DATA.sellTotSellerRealTransCost} placeholder="총 판매자 실질 부담 운임비" onkeypress="return isNumberKey(event)"\n                                onkeyup="this.value=this.value.replace(/[ㄱ-ㅎㅏ-ㅣ가-힣]/g, '');">\n                        </div>\n                        <div class="form-group col-md-12">\n                            <div id="i_sd_batch_data_profit">\n                                수익(매출) 합계 : <span>${numberWithCommas(MODAL_DATA.totSales)}</span> [원]\n                                <span class="badge badge-dark" title="${TOOLTIP_TEXT.totSales}">&#63;</span>\n                            </div>\n                            <div id="i_sd_batch_data_profit_rate">\n                                순수익 합계 : <span>${numberWithCommas(MODAL_DATA.totProfit)}</span> [원]\n                                <span class="badge badge-dark" title="${TOOLTIP_TEXT.totProfit}">&#63;</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `}\n                    ${`\n                <div class="modal-footer">\n                    <button type="button" class="btn btn-primary" onclick="eventItemHandler().modalDataAdapt('${t}').setTotValue()">적용</button>\n                    <button type="button" class="btn btn-primary" onclick="eventItemHandler().modalDataSubmitClick().submitTotData()">등록 | 저장</button>\n                    <button type="button" class="btn btn-primary" onclick="eventItemHandler().modalClose()">닫기</button>\n                </div>\n            `}\n                </div>\n            `;$("#i_sd_batch_modal_box").html(e)},sellCountInputSetHtml:function(t,e){let s=`\n                <div class="input-group mb-3" id="ty_i_td_sellCount_box_${t}">\n                    <input type="number" class="form-control ty-i-td-sellCount-input-data" value="${e}" id="i_td_sellCount_input_data_${t}">\n                    <div class="input-group-append">\n                        <button id="ty_i_sellCount_event_btn_${t}" class="btn btn-outline-secondary" type="button" onclick="eventItemHandler().sellCountSubmitClick('${t}')">\n                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n                        <path fill-rule="evenodd" d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>\n                      </svg>\n                        </button>\n                    </div>\n                </div>\n            `;$("#i_td_sellCount_box_"+t).html(s)},totAdsCostInputSetHtml:function(t,e){let s=`\n                <div class="input-group mb-3" id="ty_i_td_totAdsCost_input_data_${t}">\n                    <input type="number" step="1000" class="form-control" value="${e}" id="i_td_totAdsCost_input_data_${t}">\n                    <div class="input-group-append">\n                        <button id="ty_i_totAdsCost_event_btn_${t}" class="btn btn-outline-secondary" type="button" onclick="eventItemHandler().totAdsCostSubmitClick('${t}')">\n                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n                        <path fill-rule="evenodd" d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>\n                      </svg>\n                        </button>\n                    </div>\n                </div>\n            `;$("#i_td_totAdsCost_box_"+t).html(s)},sellTagInputSetHtml:function(t,e){let s=`\n                <div class="input-group mb-3" id="ty_i_td_sellTag_input_data_${t}">\n                    <input type="text" class="form-control" value="${e}" id="i_td_sellTag_input_data_${t}">\n                    <div class="input-group-append">\n                        <button id="ty_i_sellTag_event_btn_${t}" class="btn btn-outline-secondary" type="button" onclick="eventItemHandler().setSellTagSubmitClick('${t}')">\n                        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-check2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n                        <path fill-rule="evenodd" d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>\n                      </svg>\n                        </button>\n                    </div>\n                </div>\n            `;$("#i_td_sellTag_box_"+t).html(s)}}}function objectValueHandler(){return{costValCalc:function(t){let e=Number(t.sellPrice)+Number(t.sellCustomerTransCost),s=parseInt(e*((100-Number(t.sellCommitionCost))/100)-Number(t.sellPurchaseCost)-Number(t.sellPurchaseTransCost)-Number(t.sellSellerRealTransCost)-Number(t.sellExtraCharge)),a=0;a=0===e?0:(s/e*100).toFixed(2);let n=Number(s)*Number(t.sellCount)-Number(t.sellTotAdsCost)+Number(t.sellTotEarningCost)+Number(t.sellTotCustomerTransCost)*((100-Number(t.sellCommitionCost))/100)-Number(t.sellTotSellerRealTransCost)-Number(t.sellTotExpensesCost)-Number(t.sellTotPurchaseTransCost),l=Number(t.sellCount)*(Number(t.sellPrice)+Number(t.sellCustomerTransCost));return{getUnitSales:function(){return e},getUnitProfit:function(){return s},getUnitProfitRate:function(){return a},getTotProfit:function(){return n},getTotSales:function(){return l}}}}}function eventItemHandler(){return{inputEventListener:function(t){$("#ty_tr_keydown_event_box_"+t).on("keydown",(function(e){13===e.keyCode&&($("#ty_i_sellCount_event_btn_"+t).click(),$("#ty_i_totAdsCost_event_btn_"+t).click(),$("#ty_i_sellTag_event_btn_"+t).click())}))},sellItemSearchClick:async function(){await sellDashDataConnect().getSellItems(),loadItemHtml().sellItemsHtml()},sellCountInputOpen:function(t,e){0==e&&(e="");let s={sellId:t};SAVE_SELLID.push(s),loadItemHtml().sellCountInputSetHtml(t,e),$("#i_td_sellCount_input_data_"+t).focus().val("").val(e),eventItemHandler().inputEventListener(t),$("#ty_i_td_sellCount_box_"+t).addClass("ty-i-td-sellCount-input-data-active")},sellCountSubmitClick:function(t){SAVE_SELLID.forEach(t=>{let e=$("#i_td_sellCount_input_data_"+t.sellId).val();isInt(e)&&(SELL_ITEMS.forEach(s=>{s.sellId==t.sellId&&(s.sellCount=""===e?"0":e)}),sellDashDataConnect().updateSellItemBySellId(t.sellId))}),loadItemHtml().sellItemsHtml()},totAdsCostInputOpen:function(t,e){0==e&&(e="");let s={sellId:t};SAVE_SELLID.push(s),loadItemHtml().totAdsCostInputSetHtml(t,e),$("#i_td_totAdsCost_input_data_"+t).focus().val("").val(e),eventItemHandler().inputEventListener(t),$("#ty_i_td_totAdsCost_input_data_"+t).addClass("ty-i-td-sellCount-input-data-active")},totAdsCostSubmitClick:function(t){SAVE_SELLID.forEach(t=>{let e=$("#i_td_totAdsCost_input_data_"+t.sellId).val();isInt(e)&&(SELL_ITEMS.forEach(s=>{s.sellId==t.sellId&&(s.sellTotAdsCost=""===e?"0":e)}),sellDashDataConnect().updateSellItemBySellId(t.sellId))}),loadItemHtml().sellItemsHtml()},sellTagInputOpen:function(t,e){let s={sellId:t};SAVE_SELLID.push(s),loadItemHtml().sellTagInputSetHtml(t,e),$("#i_td_sellTag_input_data_"+t).focus().val("").val(e),eventItemHandler().inputEventListener(t),$("#ty_i_td_sellTag_input_data_"+t).addClass("ty-i-td-sellCount-input-data-active")},setSellTagSubmitClick:function(t){SAVE_SELLID.forEach(t=>{let e=$("#i_td_sellTag_input_data_"+t.sellId).val();SELL_ITEMS.forEach(s=>{s.sellId==t.sellId&&(s.sellTag=e)}),sellDashDataConnect().updateSellItemBySellId(t.sellId)}),loadItemHtml().sellItemsHtml()},setUnitItemBatchModalOpen:function(t){this.setModalData(t),loadItemHtml().unitModalContentSetHtml(t),$("#i_sd_batch_input_modal").modal("show")},setTotalItemBatchModalOpen:function(t){this.setModalData(t),loadItemHtml().totalModalContentSetHtml(t),$("#i_sd_batch_input_modal").modal("show")},setModalData:function(t){let e=SELL_ITEMS.filter(e=>e.sellId==t)[0];MODAL_DATA="";let s=objectValueHandler().costValCalc(e);MODAL_DATA={sellId:e.sellId,itemName:e.itemData.itemName,sellTag:e.sellTag,sellCommitionCost:e.sellCommitionCost,sellPrice:e.sellPrice,sellCustomerTransCost:e.sellCustomerTransCost,sellSellerRealTransCost:e.sellSellerRealTransCost,sellPurchaseCost:e.sellPurchaseCost,sellPurchaseTransCost:e.sellPurchaseTransCost,sellExtraCharge:e.sellExtraCharge,sellCount:e.sellCount,sellTotAdsCost:e.sellTotAdsCost,sellTotExpensesCost:e.sellTotExpensesCost,sellTotEarningCost:e.sellTotEarningCost,sellTotPurchaseTransCost:e.sellTotPurchaseTransCost,sellTotCustomerTransCost:e.sellTotCustomerTransCost,sellTotSellerRealTransCost:e.sellTotSellerRealTransCost,unitProfit:s.getUnitProfit(),unitProfitRate:s.getUnitProfitRate(),totSales:s.getTotSales(),totProfit:s.getTotProfit()}},modalDataAdapt:function(t){return{setUnitValue:function(){MODAL_DATA.sellCommitionCost=""===$("#i_sd_batch_input_commition_cost").val()?0:$("#i_sd_batch_input_commition_cost").val(),MODAL_DATA.sellPrice=""===$("#i_sd_batch_input_price").val()?0:$("#i_sd_batch_input_price").val(),MODAL_DATA.sellCustomerTransCost=""===$("#i_sd_batch_input_customer_trans_cost").val()?0:$("#i_sd_batch_input_customer_trans_cost").val(),MODAL_DATA.sellSellerRealTransCost=""===$("#i_sd_batch_input_seller_real_trans_cost").val()?0:$("#i_sd_batch_input_seller_real_trans_cost").val(),MODAL_DATA.sellPurchaseCost=""===$("#i_sd_batch_input_purchase_cost").val()?0:$("#i_sd_batch_input_purchase_cost").val(),MODAL_DATA.sellPurchaseTransCost=""===$("#i_sd_batch_input_purchase_trans_cost").val()?0:$("#i_sd_batch_input_purchase_trans_cost").val(),MODAL_DATA.sellExtraCharge=""===$("#i_sd_batch_input_extra_charge").val()?0:$("#i_sd_batch_input_extra_charge").val();let e=objectValueHandler().costValCalc(MODAL_DATA);MODAL_DATA.unitProfit=e.getUnitProfit(),MODAL_DATA.unitProfitRate=e.getUnitProfitRate(),loadItemHtml().unitModalContentSetHtml(t)},setTotValue:function(){MODAL_DATA.sellCount=""===$("#i_sd_batch_input_sell_count").val()?0:$("#i_sd_batch_input_sell_count").val(),MODAL_DATA.sellTotAdsCost=""===$("#i_sd_batch_input_tot_ads_cost").val()?0:$("#i_sd_batch_input_tot_ads_cost").val(),MODAL_DATA.sellTotExpensesCost=""===$("#i_sd_batch_input_tot_expenses_cost").val()?0:$("#i_sd_batch_input_tot_expenses_cost").val(),MODAL_DATA.sellTotEarningCost=""===$("#i_sd_batch_input_tot_earning_cost").val()?0:$("#i_sd_batch_input_tot_earning_cost").val(),MODAL_DATA.sellTotPurchaseTransCost=""===$("#i_sd_batch_input_tot_purchase_trans_cost").val()?0:$("#i_sd_batch_input_tot_purchase_trans_cost").val(),MODAL_DATA.sellTotCustomerTransCost=""===$("#i_sd_batch_input_tot_customer_trans_cost").val()?0:$("#i_sd_batch_input_tot_customer_trans_cost").val(),MODAL_DATA.sellTotSellerRealTransCost=""===$("#i_sd_batch_input_tot_seller_real_trans_cost").val()?0:$("#i_sd_batch_input_tot_seller_real_trans_cost").val();let e=objectValueHandler().costValCalc(MODAL_DATA);MODAL_DATA.totSales=e.getTotSales(),MODAL_DATA.totProfit=e.getTotProfit(),loadItemHtml().totalModalContentSetHtml(t)}}},modalDataSubmitClick:function(){return{submitUnitData:function(){SELL_ITEMS.forEach(t=>{if(t.sellId==MODAL_DATA.sellId)return t.sellCommitionCost=""===$("#i_sd_batch_input_commition_cost").val()?0:$("#i_sd_batch_input_commition_cost").val(),t.sellPrice=""===$("#i_sd_batch_input_price").val()?0:$("#i_sd_batch_input_price").val(),t.sellCustomerTransCost=""===$("#i_sd_batch_input_customer_trans_cost").val()?0:$("#i_sd_batch_input_customer_trans_cost").val(),t.sellSellerRealTransCost=""===$("#i_sd_batch_input_seller_real_trans_cost").val()?0:$("#i_sd_batch_input_seller_real_trans_cost").val(),t.sellPurchaseCost=""===$("#i_sd_batch_input_purchase_cost").val()?0:$("#i_sd_batch_input_purchase_cost").val(),t.sellPurchaseTransCost=""===$("#i_sd_batch_input_purchase_trans_cost").val()?0:$("#i_sd_batch_input_purchase_trans_cost").val(),t.sellExtraCharge=""===$("#i_sd_batch_input_extra_charge").val()?0:$("#i_sd_batch_input_extra_charge").val(),$("#i_sd_batch_input_modal").modal("hide"),loadItemHtml().sellItemsHtml(),sellDashDataConnect().updateSellItemBySellId(t.sellId)})},submitTotData:function(){SELL_ITEMS.forEach(t=>{if(t.sellId==MODAL_DATA.sellId)return t.sellCount=""===$("#i_sd_batch_input_sell_count").val()?0:$("#i_sd_batch_input_sell_count").val(),t.sellTotAdsCost=""===$("#i_sd_batch_input_tot_ads_cost").val()?0:$("#i_sd_batch_input_tot_ads_cost").val(),t.sellTotExpensesCost=""===$("#i_sd_batch_input_tot_expenses_cost").val()?0:$("#i_sd_batch_input_tot_expenses_cost").val(),t.sellTotEarningCost=""===$("#i_sd_batch_input_tot_earning_cost").val()?0:$("#i_sd_batch_input_tot_earning_cost").val(),t.sellTotPurchaseTransCost=""===$("#i_sd_batch_input_tot_purchase_trans_cost").val()?0:$("#i_sd_batch_input_tot_purchase_trans_cost").val(),t.sellTotCustomerTransCost=""===$("#i_sd_batch_input_tot_customer_trans_cost").val()?0:$("#i_sd_batch_input_tot_customer_trans_cost").val(),t.sellTotSellerRealTransCost=""===$("#i_sd_batch_input_tot_seller_real_trans_cost").val()?0:$("#i_sd_batch_input_tot_seller_real_trans_cost").val(),$("#i_sd_batch_input_modal").modal("hide"),loadItemHtml().sellItemsHtml(),sellDashDataConnect().updateSellItemBySellId(t.sellId)})}}},sellItemDeleteClick:function(t){let e;return SELL_ITEMS=SELL_ITEMS.filter(s=>(s.sellId==t&&(e=s),s.sellId!=t)),loadItemHtml().sellItemsHtml(),sellDashDataConnect().deleteSellItemBySellItem(e)},modalClose:function(){$("#i_sd_batch_input_modal").modal("hide")}}}async function init(){loadSellDashInitializeObject(),calandarHandler().designCalandar_ty(),calandarHandler().setCurrentTimeHtml(),calandarHandler().setInitDate(),await loadSellDashInitializeData(),loadSellDashInitializeHtml()}async function loadSellDashInitializeData(){await sellDashDataConnect().getClassifys(),await sellDashDataConnect().getStores(),await sellDashDataConnect().getSellItems(),await sellDashDataConnect().getRegItems()}async function loadSellDashInitializeHtml(){loadStoreHtml().setInitStore(),loadItemHtml().sellItemsHtml(),eventGoodsHandler().showHaveItemList()}function loadSellDashInitializeObject(){sellDashObjectInit()}function sellDashObjectInit(){STORE_LIST=[],STORE_SELECTED=[],SEARCHED_DATA=[],SAVE_SELLID=[],EXTRACT_STORE=[],SEARCH_EL_ITEMS=[],SELECTED_SEARCH_ITEMS=[],SELL_ITEMS=[],DATE_SETTING={startDate:"",endDate:"",sellDate:""},MODAL_DATA="",CLASSIFYS=[],OPTIONS=[],BATCH_ITEM_SELECTED=[],TOOLTIP_TEXT={unitCustomerTransCost:"소비자 부담 운임비란?</br>소비자(구매자) -> 판매자(나) [지불하는 금액]",unitSellerRealTransCost:"판매자 실질 부담 운임비란?</br>판매자(나) -> 배송업체 [지불하는 금액]",unitProfit:"개당 매출 [a] = </br>[2] + [3]<hr/>개당 순수익 [b] = </br>[a] * (100-[1])% - [4] - [5] - [6] - [7]",unitProfitRate:"개당 수익율 [c] = </br>( ( [b] / [a] ) * 100 )%",totAdsCost:"해당 판매 등록 상품에 대한 총 집행 광고 또는 마케팅 비용입니다.",totExpensesCost:"해당 판매 등록 상품에 대한 총 추가 지출입니다.",totEarningCost:"해당 판매 등록 상품에 대한 총 추가 수익입니다.",totPurchaseTransCost:"해당 판매 등록 상품에 대한 총 매입 운임 비용입니다. <b>개당 매입 운임 비용과 대조되는 항목이며</b>, 총 매입 운임비용 등록 시 <b>개당 매입 운임비용</b>을 한 번 더 확인해 주세요.",totCustomerTransCost:"해당 판매 등록 상품에 대한 총 소비자 부담 운임 비용입니다. <b>개당 소비자 부담 운임 비용과 대조되는 항목이며</b>, 총 소비자 부담 운임비용 등록 시 <b>개당 소비자 부담 운임비용</b>을 한 번 더 확인해 주세요.<hr/>소비자 부담 운임비란?</br>소비자(구매자) -> 판매자(나) [지불하는 금액]",totSellerRealTransCost:"해당 판매 등록 상품에 대한 총 판매자 실질 부담 운임 비용입니다. <b>개당 판매자 실질 부담 운임 비용과 대조되는 항목이며</b>, 총 판매자 실질 부담 운임비용 등록 시 <b>개당 판매자 실질 부담 운임비용</b>을 한 번 더 확인해 주세요.<hr/>판매자 실질 부담 운임비란?</br>판매자(나) -> 배송업체 [지불하는 금액]",totSales:"매출 합계 [d] = </br>[a] * [8] + [13]",totProfit:"순수익 합계 [e] = </br>[b] * [8] + [13] * (100-[1])% + [11] - [9] - [10] - [12] - [14]"}}function eventTableSortHandler(){return{sortTableHandler:function(){$(".ty-st-sd-sort-icon").click((function(){var t=$(this).parents("table").eq(0),e=t.find("tr:gt(0)").toArray().sort(eventTableSortHandler().comparer($(this).index()));this.asc=!this.asc,this.asc||(e=e.reverse());for(var s=0;s<e.length;s++)t.append(e[s])}))},comparer:function(t){return function(e,s){var a=eventTableSortHandler().getCellValue(e,t),n=eventTableSortHandler().getCellValue(s,t);return $.isNumeric(a)&&$.isNumeric(n)?a-n:a.toString().localeCompare(n)}},getCellValue:function(t,e){return $(t).children("td").eq(e).text()},isClickedCheck:function(t){let e=$("#ty_i_st_sd_table_sort_"+t);e.hasClass("fas fa-sort")?(e.removeClass("fas fa-sort"),e.addClass("ty-st-sd-table-sort-by-desc")):e.hasClass("ty-st-sd-table-sort-by-desc")?(e.addClass("ty-st-sd-table-sort-by-asc"),e.removeClass("ty-st-sd-table-sort-by-desc")):e.hasClass("ty-st-sd-table-sort-by-asc")&&(e.removeClass("ty-st-sd-table-sort-by-asc"),e.addClass("ty-st-sd-table-sort-by-desc"))}}}function loadStoreHtml(){return{setInitStore:function(){STORE_LIST.forEach(t=>{STORE_SELECTED.push(t)}),loadItemHtml().sellItemsHtml(),loadStoreHtml().extractUserSelectSotre()},extractUserSelectSotre:function(){EXTRACT_STORE=SEARCH_EL_ITEMS.filter((t,e,s)=>s.findIndex(e=>e.storeType===t.storeType)===e),loadStoreHtml().storeOptionListLoad()},storeOptionListLoad:function(){let t='\n            <option value="none">전체 마켓</option>\n            ';EXTRACT_STORE.forEach(e=>{t+=`\n                    <option value=${e.storeType}>${e.storeName}</option>\n                    `}),$("#ty_st_sd_i_store_select_el").html(t)}}}function eventStoreHandler(){return{addStoreSelect:function(t){STORE_SELECTED=[];let e,s=t.value;STORE_LIST.forEach(t=>{(t.storeType===s||"none"===s)&&(e={id:uuidv4(),storeName:t.storeName,storeType:t.storeType},STORE_SELECTED.push(e))}),loadItemHtml().sellItemsHtml()}}}init();
function calandarHandler(){return{loadInit:function(){this.setInitDate(),this.designCalandar_ty()},setInitDate:function(){let t=moment().subtract(6,"days"),e=moment();t._d.setHours(0,0,0,0),e._d.setHours(23,59,59,999),DATE_SETTING.startDate=t._d.toUTCString(),DATE_SETTING.endDate=e._d.toUTCString()},designCalandar_ty:function(){$("#i_mdash_start_date").daterangepicker({language:"kr",alwaysShowCalendars:!0,startDate:moment().subtract(6,"days"),endDate:moment(),changeYear:!0,changeMonth:!0,autoApply:!0,dateFormat:"yy-mm-dd",cssClass:"e-date-icon",showMonthAfterYear:!0,dayNamesMin:["일","월","화","수","목","금","토"],monthNamesShort:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],ranges:{"오늘":[moment(),moment()],"어제":[moment().subtract(1,"days"),moment().subtract(1,"days")],"지난7일":[moment().subtract(6,"days"),moment()],"지난14일":[moment().subtract(13,"days"),moment()],"지난30일":[moment().subtract(29,"days"),moment()],"이번달":[moment().startOf("month"),moment().endOf("month")],"지난달":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},locale:{format:"YYYY.MM.DD",applyLabel:"적용",cancelLabel:"취소",customRangeLabel:"사용자설정",separator:" ~ ",daysOfWeek:["일","월","화","수","목","금","토"],monthNames:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]}},(function(t,e){let a=new Date(t._d),o=new Date(e._d);calandarHandler().dateChange(a,o)}))},formatDateFitInput:function(t){var e=new Date(t),a=""+(e.getMonth()+1),o=""+e.getDate(),n=e.getFullYear();return a.length<2&&(a="0"+a),o.length<2&&(o="0"+o),[n,a,o].join("-")},dateChange:function(t,e){let a=t,o=e;DATE_SETTING.startDate=a.toUTCString(),DATE_SETTING.endDate=o.toUTCString(),searchForData()}}}function charObjectInit(){MAIN_CTX=$("#i_mdash_mainChart"),MAIN_CHART=new Chart(MAIN_CTX),Chart.plugins.register({}),Chart.Tooltip.positioners.cursor=function(t,e){return e},CHART_OPTION={default:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},vertical:{cost:{bezierCurve:!1,responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{gridLines:{drawOnChartArea:!1,offsetGridLines:!0}}],yAxes:[{ticks:{beginAtZero:!0,userCallback:function(t,e,a){return t=t.toString(),numberWithCommas(Number(t))+" 원"}}}]},tooltips:{mode:"index",titleFontColor:"black",bodyFontColor:"black",position:"cursor",intersect:!1,callbacks:{label:function(t,e){return e.datasets[t.datasetIndex].label+" : "+numberWithCommas(Number(t.yLabel))+" 원"}},backgroundColor:"#ffffff",shadowOffsetX:3,shadowOffsetY:3,shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)",xPadding:12,yPadding:12,cornerRadius:4},hover:{mode:"index",intersect:!1},elements:{line:{tension:0}}},percent:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,userCallback:function(t,e,a){return(t=t.toString())+" %"}}}]},tooltips:{callbacks:{label:function(t,e){return e.datasets[t.datasetIndex].label+" : "+Number(t.yLabel)+" %"}}}},unitBar:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0,userCallback:function(t,e,a){return(t=t.toString())+" 개"}}}]},tooltips:{callbacks:{label:function(t,e){return e.datasets[t.datasetIndex].label+" : "+Number(t.yLabel)+" 개"}}}}},horizontal:{cost:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{ticks:{beginAtZero:!0}}]},tooltips:{callbacks:{label:function(t,e){return e.datasets[t.datasetIndex].label+" : "+numberWithCommas(Number(t.xLabel))+" 원"}}}},unit:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{ticks:{beginAtZero:!0}}]},tooltips:{callbacks:{label:function(t,e){return e.datasets[t.datasetIndex].label+" : "+Number(t.xLabel)+" 개"}}}}}}}function chartLoader(){return{hideAndShow:function(){isMember()&&$(".st-chart-invisible").css("display","none"),localStorage.getItem("MD_MGRAPH_HIDE")&&1==localStorage.getItem("MD_MGRAPH_HIDE")&&($("div[sttg=mdash-main-graph]").css("display","none"),$("button[sttg=mdash-main-graph-btn]").html("보이기"),$("button[sttg=mdash-main-graph-btn]").attr("onclick","eventChartHandler().mainGraph().show()")),localStorage.getItem("MD_DGRAPH_HIDE")&&1==localStorage.getItem("MD_DGRAPH_HIDE")&&($("div[sttg=mdash-date-graph]").css("display","none"),$("button[sttg=mdash-date-graph-btn]").html("보이기"),$("button[sttg=mdash-date-graph-btn]").attr("onclick","eventChartHandler().dateGraph().show()")),localStorage.getItem("MD_CGRAPH_HIDE")&&1==localStorage.getItem("MD_CGRAPH_HIDE")&&($("div[sttg=mdash-classify-graph]").css("display","none"),$("button[sttg=mdash-classify-graph-btn]").html("보이기"),$("button[sttg=mdash-classify-graph-btn]").attr("onclick","eventChartHandler().classifyGraph().show()")),localStorage.getItem("MD_IGRAPH_HIDE")&&1==localStorage.getItem("MD_IGRAPH_HIDE")&&($("div[sttg=mdash-item-graph]").css("display","none"),$("button[sttg=mdash-item-graph-btn]").html("보이기"),$("button[sttg=mdash-item-graph-btn]").attr("onclick","eventChartHandler().itemGraph().show()"))},load:function(){makeChart().getMainChart()}}}function makeChart(){return{getMainChart:function(){let t=chartDataHandler().handleDataByDate(),e=[{label:"수익(매출)",data:t.getTotSalesSumArr(),backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgb(2, 44, 64)",borderWidth:2,pointBorderColor:"rgba(0, 0, 0, 0)",pointBackgroundColor:"rgba(0, 0, 0, 0)",pointHoverBackgroundColor:"rgb(2, 44, 64)",pointHoverBorderColor:"rgb(2, 44, 64)"},{label:"순수익",data:t.getTotProfitSumArr(),backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:2,pointBorderColor:"rgba(0, 0, 0, 0)",pointBackgroundColor:"rgba(0, 0, 0, 0)",pointHoverBackgroundColor:"rgba(54, 162, 235, 1)",pointHoverBorderColor:"rgba(54, 162, 235, 1)"},{label:"광고비",data:t.getTotAdsSumArr(),backgroundColor:"rgba(0, 0, 0, 0)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:2,pointBorderColor:"rgba(0, 0, 0, 0)",pointBackgroundColor:"rgba(0, 0, 0, 0)",pointHoverBackgroundColor:"rgba(255, 99, 132, 1)",pointHoverBorderColor:"rgba(255, 99, 132, 1)"}];MAIN_CHART.destroy(),MAIN_CHART=new Chart(MAIN_CTX,{type:"line",data:{labels:t.getDateRange(),datasets:e},options:CHART_OPTION.vertical.cost,plugins:{afterDatasetsDraw:function(t){if(t.tooltip._active&&t.tooltip._active.length){var e=t.tooltip._active[0],a=t.ctx,o=t.scales["y-axis-0"],n=e.tooltipPosition().x,r=o.top,s=o.bottom;a.save(),a.beginPath(),a.moveTo(n,r),a.lineTo(n,s),a.lineWidth=1,a.strokeStyle="#b2bec3",a.stroke(),a.restore()}}}})},getRoAdsChart:function(){let t=chartDataHandler().handleDataByDate(),e=[{label:"광고 대비 ROI (기간 총 순수익 / 기간 총 광고비용)",data:t.getTotROIByAdsArr(),backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1},{label:"광고 대비 ROAS (기간 총 수익(매출) / 기간 총 광고비용)",data:t.getTotROASByAdsArr(),backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}];ROADS_CHART.destroy(),ROADS_CHART=new Chart(ROADS_CTX,{type:"line",data:{labels:t.getDateRange(),datasets:isMember()?e:""},options:CHART_OPTION.vertical.percent})},getRoInvChart:function(){let t=chartDataHandler().handleDataByDate(),e=[{label:"투자 대비 ROI (기간 총 순수익 / 기간 총 투자비용)",data:t.getTotROIBySellArr(),backgroundColor:"rgba(1, 1, 235, 0.2)",borderColor:"rgba(1, 1, 235, 1)",borderWidth:1}];ROINV_CHART.destroy(),ROINV_CHART=new Chart(ROINV_CTX,{type:"line",data:{labels:t.getDateRange(),datasets:isMember()?e:""},options:CHART_OPTION.vertical.percent})},getSellCountByDateChart:function(){let t=chartDataHandler().handleDataByDate(),e=[{label:"판매 개수",data:t.getSellCountSum(),backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}];SCBDATE_CHART.destroy(),SCBDATE_CHART=new Chart(SCBDATE_CTX,{type:"bar",data:{labels:t.getDateRange(),datasets:isMember()?e:""},options:CHART_OPTION.vertical.unitBar})},getTotSumDataByClassifyChart:function(){let t=chartDataHandler().handleDataByClassifyName(),e=[{label:"상품별 총 판매 수익(매출)",data:t.getTotSalesSumArr(),backgroundColor:"#c2a4ff42",borderColor:"#c2a4ff",borderWidth:1},{label:"상품별 총 순수익",data:t.getTotProfitSumArr(),backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}];TSBCLF_CHART.destroy(),TSBCLF_CHART=new Chart(TSBCLF_CTX,{type:"bar",data:{labels:t.getItemNameRange(),datasets:isMember()?e:""},options:CHART_OPTION.vertical.cost})},getSellCountByClassifyChart:function(){let t=chartDataHandler().handleDataByClassifyName();var e=[];t.getSellCountDataArr().forEach(t=>{t=Math.floor(255*Math.random());var a=Math.floor(255*Math.random()),o=Math.floor(255*Math.random());e.push("rgb("+t+","+a+","+o+",0.4)")});let a=[{label:"상품별 총 판매 개수 [개]",data:t.getSellCountDataArr(),backgroundColor:e,borderColor:e,borderWidth:1}];SCBCLF_CHART.destroy(),SCBCLF_CHART=new Chart(SCBCLF_CTX,{type:"pie",data:{labels:t.getItemNameRange(),datasets:isMember()?a:""},options:CHART_OPTION.default})},getTotAdsSumDataByClassifyChart:function(){let t=chartDataHandler().handleDataByClassifyName(),e=[{label:"상품별 총 광고 비용",data:t.getTotAdsSumArr(),backgroundColor:"#c2a4ff42",borderColor:"#c2a4ff",borderWidth:1}];TADSBCLF_CHART.destroy(),TADSBCLF_CHART=new Chart(TADSBCLF_CTX,{type:"bar",data:{labels:t.getItemNameRange(),datasets:isMember()?e:""},options:CHART_OPTION.vertical.cost})},getRoAdsDataByClassifyChart:function(){let t=chartDataHandler().handleDataByClassifyName(),e=[{label:"광고 대비 ROI (기간 총 순수익 / 기간 총 광고비용)",data:t.getTotROIByAdsArr(),backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1},{label:"광고 대비 ROAS (기간 총 수익(매출) / 기간 총 광고비용)",data:t.getTotROASByAdsArr(),backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}];T_ROADS_BCLF_CHART.destroy(),T_ROADS_BCLF_CHART=new Chart(T_ROADS_BCLF_CTX,{type:"line",data:{labels:t.getItemNameRange(),datasets:isMember()?e:""},options:CHART_OPTION.vertical.percent})},getRoInvDataByClassifyChart:function(){let t=chartDataHandler().handleDataByClassifyName(),e=[{label:"투자 대비 ROI (기간 총 순수익 / 기간 총 투자비용) [%]",data:t.getTotROIBySellArr(),backgroundColor:"rgba(1, 1, 235, 0.2)",borderColor:"rgba(1, 1, 235, 1)",borderWidth:1}];T_ROINV_BCLF_CHART.destroy(),T_ROINV_BCLF_CHART=new Chart(T_ROINV_BCLF_CTX,{type:"line",data:{labels:t.getItemNameRange(),datasets:isMember()?e:""},options:CHART_OPTION.vertical.percent})},getTotSumDataByItemChart:function(){let t=chartDataHandler().handleDataByItemName(),e=[{label:"상세 상품별 총 판매 수익(매출)",data:t.getTotSalesSumArr(),backgroundColor:"#c2a4ff42",borderColor:"#c2a4ff",borderWidth:1},{label:"상세 상품별 총 순수익",data:t.getTotProfitSumArr(),backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}];TSBITEM_CHART.destroy(),TSBITEM_CHART=new Chart(TSBITEM_CTX,{type:"horizontalBar",data:{labels:t.getItemNameRange(),datasets:isMember()?e:""},options:CHART_OPTION.horizontal.cost})},getSellCountByItemChart:function(){let t=chartDataHandler().handleDataByItemName(),e=[{label:"상세 상품별 판매 개수",data:t.getSellCountDataArr(),backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}];SCBITEM_CHART.destroy(),SCBITEM_CHART=new Chart(SCBITEM_CTX,{type:"horizontalBar",data:{labels:t.getItemNameRange(),datasets:isMember()?e:""},options:CHART_OPTION.horizontal.unit})},getAdsSumByItemChart:function(){let t=chartDataHandler().handleDataByItemName(),e=[{label:"상세 상품별 총 광고 비용",data:t.getTotAdsSumArr(),backgroundColor:"#c2a4ff42",borderColor:"#c2a4ff",borderWidth:1}];T_ADS_BITEM_CHART.destroy(),T_ADS_BITEM_CHART=new Chart(T_ADS_BITEM_CTX,{type:"bar",data:{labels:t.getItemNameRange(),datasets:isMember()?e:""},options:CHART_OPTION.vertical.cost})},getRoInvDataByItemChart:function(){let t=chartDataHandler().handleDataByItemName(),e=[{label:"투자 대비 ROI (기간 총 순수익 / 기간 총 투자비용) [%]",data:t.getTotROIBySellArr(),backgroundColor:"rgba(1, 1, 235, 0.2)",borderColor:"rgba(1, 1, 235, 1)",borderWidth:1}];T_ROINV_BITEM_CHART.destroy(),T_ROINV_BITEM_CHART=new Chart(T_ROINV_BITEM_CTX,{type:"line",data:{labels:t.getItemNameRange(),datasets:isMember()?e:""},options:CHART_OPTION.vertical.percent})},getRoAdsDataByItemChart:function(){let t=chartDataHandler().handleDataByItemName(),e=[{label:"광고 대비 ROI (기간 총 순수익 / 기간 총 광고비용)",data:t.getTotROIByAdsArr(),backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1},{label:"광고 대비 ROAS (기간 총 수익(매출) / 기간 총 광고비용)",data:t.getTotROASByAdsArr(),backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}];T_ROADS_BITEM_CHART.destroy(),T_ROADS_BITEM_CHART=new Chart(T_ROADS_BITEM_CTX,{type:"line",data:{labels:t.getItemNameRange(),datasets:isMember()?e:""},options:CHART_OPTION.vertical.percent})}}}function chartDataHandler(){return{handleDataByDate:function(){let t=getDateRangeData(DATE_SETTING.startDate,DATE_SETTING.endDate),e=[];return t.forEach(t=>{let a={sellCountSum:0,totSalesSum:0,totProfitSum:0,totAdsCostSum:0,totMarginCostSum:0,totROIByAds:0,totROASByAds:0,totROIBySell:0};SELLED_ITEMS.forEach(e=>{let o=tableDataHandler().costValCalc(e),n=o.getTotSales(),r=o.getTotProfit(),s=o.getTotMarginCost();+new Date(t)==+new Date(calandarHandler().formatDateFitInput(e.sellSelldate))&&(a.sellCountSum+=e.sellCount,a.totSalesSum+=n,a.totProfitSum+=r,a.totAdsCostSum+=e.sellTotAdsCost,a.totMarginCostSum+=s)}),0===a.totAdsCostSum?(a.totROIByAds=0,a.totROASByAds=0):(a.totROIByAds=Number((Number(a.totProfitSum)/Number(a.totAdsCostSum)*100).toFixed(2)),a.totROASByAds=Number((Number(a.totSalesSum)/Number(a.totAdsCostSum)*100).toFixed(2))),0===a.totMarginCostSum?a.totROIBySell=0:a.totROIBySell=Number((Number(a.totProfitSum)/Number(a.totMarginCostSum)*100).toFixed(2)),e.push(a)}),{getDateRange:function(){return t},getSellCountSum:function(){return e.map(t=>t.sellCountSum)},getTotSalesSumArr:function(){return e.map(t=>t.totSalesSum)},getTotProfitSumArr:function(){return e.map(t=>t.totProfitSum)},getTotAdsSumArr:function(){return e.map(t=>t.totAdsCostSum)},getTotROIByAdsArr:function(){return e.map(t=>t.totROIByAds)},getTotROASByAdsArr:function(){return e.map(t=>t.totROASByAds)},getTotROIBySellArr:function(){return e.map(t=>t.totROIBySell)}}},handleDataByClassifyName:function(){var t=new Set;let e=[],a=[];return SELLED_ITEMS.forEach(a=>{t.has(a.itemData.classifyUuid)||(t.add(a.itemData.classifyUuid),e.push(a.itemData.classifyName))}),t.forEach(t=>{let e={classifyUuid:"",classifyName:"",totSalesSum:0,totProfitSum:0,sellCountSum:0,totAdsCostSum:0,totMarginCostSum:0,totROIByAds:0,totROASByAds:0,totROIBySell:0};SELLED_ITEMS.forEach(a=>{if(t==a.itemData.classifyUuid){let t=tableDataHandler().costValCalc(a),o=t.getTotSales(),n=t.getTotProfit(),r=t.getTotMarginCost();e.classifyUuid=a.itemData.classifyUuid,e.classifyName=a.itemData.classifyName,e.totSalesSum+=o,e.totProfitSum+=n,e.sellCountSum+=a.sellCount,e.totAdsCostSum+=a.sellTotAdsCost,e.totMarginCostSum+=r}}),0===e.totAdsCostSum?(e.totROIByAds=0,e.totROASByAds=0):(e.totROIByAds=Number((Number(e.totProfitSum)/Number(e.totAdsCostSum)*100).toFixed(2)),e.totROASByAds=Number((Number(e.totSalesSum)/Number(e.totAdsCostSum)*100).toFixed(2))),0===e.totMarginCostSum?e.totROIBySell=0:e.totROIBySell=Number((Number(e.totProfitSum)/Number(e.totMarginCostSum)*100).toFixed(2)),a.push(e)}),{getItemDataArr:function(){return a},getItemNameRange:function(){return e},getTotSalesSumArr:function(){return a.map(t=>t.totSalesSum)},getTotProfitSumArr:function(){return a.map(t=>t.totProfitSum)},getSellCountDataArr:function(){return a.map(t=>t.sellCountSum)},getTotAdsSumArr:function(){return a.map(t=>t.totAdsCostSum)},getTotROIByAdsArr:function(){return a.map(t=>t.totROIByAds)},getTotROASByAdsArr:function(){return a.map(t=>t.totROASByAds)},getTotROIBySellArr:function(){return a.map(t=>t.totROIBySell)}}},handleDataByItemName:function(){var t=new Set;let e=[],a=[];return SELLED_ITEMS.forEach(a=>{t.has(a.itemId)||(t.add(a.itemId),e.push(`${a.itemData.itemName}(${a.itemData.itemStoreName})`))}),t.forEach(t=>{let e={itemId:"",itemName:"",totSalesSum:0,totProfitSum:0,sellCountSum:0,totAdsCostSum:0,totMarginCostSum:0,totROIByAds:0,totROASByAds:0,totROIBySell:0};SELLED_ITEMS.forEach(a=>{if(t==a.itemId){let t=tableDataHandler().costValCalc(a),o=t.getTotSales(),n=t.getTotProfit(),r=t.getTotMarginCost();e.itemId=a.itemId,e.itemName=`${a.itemData.itemName}(${a.itemData.itemStoreName})`,e.totSalesSum+=o,e.totProfitSum+=n,e.sellCountSum+=a.sellCount,e.totAdsCostSum+=a.sellTotAdsCost,e.totMarginCostSum+=r}}),0===e.totAdsCostSum?(e.totROIByAds=0,e.totROASByAds=0):(e.totROIByAds=Number((Number(e.totProfitSum)/Number(e.totAdsCostSum)*100).toFixed(2)),e.totROASByAds=Number((Number(e.totSalesSum)/Number(e.totAdsCostSum)*100).toFixed(2))),0===e.totMarginCostSum?e.totROIBySell=0:e.totROIBySell=Number((Number(e.totProfitSum)/Number(e.totMarginCostSum)*100).toFixed(2)),a.push(e)}),{getItemDataArr:function(){return a},getItemNameRange:function(){return e},getTotSalesSumArr:function(){return a.map(t=>t.totSalesSum)},getTotProfitSumArr:function(){return a.map(t=>t.totProfitSum)},getSellCountDataArr:function(){return a.map(t=>t.sellCountSum)},getTotAdsSumArr:function(){return a.map(t=>t.totAdsCostSum)},getTotROIByAdsArr:function(){return a.map(t=>t.totROIByAds)},getTotROASByAdsArr:function(){return a.map(t=>t.totROASByAds)},getTotROIBySellArr:function(){return a.map(t=>t.totROIBySell)}}}}}function loadChartBoxHtml(){}function eventChartHandler(){return{mainGraph:function(){return{show:function(){$("button[sttg=mdash-main-graph-btn]").html("숨기기"),$("button[sttg=mdash-main-graph-btn]").attr("onclick","eventChartHandler().mainGraph().hide()"),localStorage.removeItem("MD_MGRAPH_HIDE"),$("div[sttg=mdash-main-graph]").css("display","block")},hide:function(){$("button[sttg=mdash-main-graph-btn]").html("보이기"),$("button[sttg=mdash-main-graph-btn]").attr("onclick","eventChartHandler().mainGraph().show()"),localStorage.setItem("MD_MGRAPH_HIDE",1),$("div[sttg=mdash-main-graph]").css("display","none")}}},dateGraph:function(){return{show:function(){$("button[sttg=mdash-date-graph-btn]").html("숨기기"),$("button[sttg=mdash-date-graph-btn]").attr("onclick","eventChartHandler().dateGraph().hide()"),localStorage.removeItem("MD_DGRAPH_HIDE"),$("div[sttg=mdash-date-graph]").css("display","block")},hide:function(){$("button[sttg=mdash-date-graph-btn]").html("보이기"),$("button[sttg=mdash-date-graph-btn]").attr("onclick","eventChartHandler().dateGraph().show()"),localStorage.setItem("MD_DGRAPH_HIDE",1),$("div[sttg=mdash-date-graph]").css("display","none")}}},classifyGraph:function(){return{show:function(){$("button[sttg=mdash-classify-graph-btn]").html("숨기기"),$("button[sttg=mdash-classify-graph-btn]").attr("onclick","eventChartHandler().classifyGraph().hide()"),localStorage.removeItem("MD_CGRAPH_HIDE"),$("div[sttg=mdash-classify-graph]").css("display","block")},hide:function(){$("button[sttg=mdash-classify-graph-btn]").html("보이기"),$("button[sttg=mdash-classify-graph-btn]").attr("onclick","eventChartHandler().classifyGraph().show()"),localStorage.setItem("MD_CGRAPH_HIDE",1),$("div[sttg=mdash-classify-graph]").css("display","none")}}},itemGraph:function(){return{show:function(){$("button[sttg=mdash-item-graph-btn]").html("숨기기"),$("button[sttg=mdash-item-graph-btn]").attr("onclick","eventChartHandler().itemGraph().hide()"),localStorage.removeItem("MD_IGRAPH_HIDE"),$("div[sttg=mdash-item-graph]").css("display","block")},hide:function(){$("button[sttg=mdash-item-graph-btn]").html("보이기"),$("button[sttg=mdash-item-graph-btn]").attr("onclick","eventChartHandler().itemGraph().show()"),localStorage.setItem("MD_IGRAPH_HIDE",1),$("div[sttg=mdash-item-graph]").css("display","none")}}}}}function dataConnect(){return{getItemClassifys:async function(){await $.ajax({url:"/api/item_manager/search/classifys/byuser",type:"GET",contentType:"application/json",dataType:"json",beforeSend:function(t){$("#i_mdash_loading").removeClass("display-none")},complete:function(){$("#i_mdash_loading").addClass("display-none")},success:function(t){return"SUCCESS"===t.message?CLASSIFYS=t.classifys:"USER_INVALID"===t.message?(alert("로그인 세션이 만료되었습니다."),window.location.href="/login"):void 0},error:function(t){console.log(t)}})},getDeletedItemClassifys:async function(){await $.ajax({url:"/api/item_manager/search/deleted_classifys/jselled",type:"GET",contentType:"application/json",dataType:"json",beforeSend:function(t){$("#i_mdash_loading").removeClass("display-none")},complete:function(){$("#i_mdash_loading").addClass("display-none")},success:function(t){if("SUCCESS"!==t.message)return"USER_INVALID"===t.message?(alert("로그인 세션이 만료되었습니다."),window.location.href="/login"):void 0;CLASSIFYS=CLASSIFYS.concat(t.classifys)},error:function(t){console.log(t)}})},getItemOptions:async function(t){await $.ajax({url:"/api/item_manager/search/options/byclassify",type:"GET",contentType:"application/json",dataType:"json",data:{classifyUuid:t},beforeSend:function(t){$("#i_mdash_loading").removeClass("display-none")},complete:function(){$("#i_mdash_loading").addClass("display-none")},success:function(t){return"USER_INVALID"===t.message?(alert("로그인 세션이 만료되었습니다."),window.location.href="/login"):"SUCCESS"!==t.message?"FAILURE"===t.message?(alert("DB Search error code : MDGOPT500"),window.location.reload()):(alert("undefined error code : MDGOPT"),window.location.reload()):void(OPTIONS=t.options)},error:function(t){if(403===t.status)return alert("세션이 만료되었습니다."),window.location.reload();alert("undefined error code : MDGOPT")}})},getStores:async function(){await $.ajax({url:"/api/item_store/get/all",type:"GET",contentType:"application/json",dataType:"json",beforeSend:function(t){$("#i_mdash_loading").removeClass("display-none")},complete:function(){$("#i_mdash_loading").addClass("display-none")},success:function(t){STORES=t},error:function(t){return 403===t.status?(alert("세션이 만료되었습니다."),window.location.reload()):(alert("undefined error code : MDGST"),window.location.reload())}})},getSellItemByCondition:async function(){let t={startDate:DATE_SETTING.startDate,endDate:DATE_SETTING.endDate,order:ORDERBY,classifyUuid:SELECTED_CLASSIFY,optionUuid:SELECTED_OPTION,storeType:SELECTED_STORE};await $.ajax({url:"/api/item_manager/search/sell_item/condition",type:"GET",contentType:"application/json",dataType:"json",data:t,beforeSend:function(t){$("#i_mdash_loading").removeClass("display-none")},complete:function(){$("#i_mdash_loading").addClass("display-none")},success:function(t){return"SUCCESS"===t.message?SELLED_ITEMS=t.data:"USER_INVALID"===t.message?(alert("로그인 세션이 만료되었습니다."),window.location.href="/login"):void 0},error:function(t){console.log(t)}})},getSellItemsByDateTime:async function(){let t={startDate:DATE_SETTING.startDate,endDate:DATE_SETTING.endDate};await $.ajax({url:"/api/item_manager/search/sell_item/time/order/selldate",type:"GET",contentType:"application/json",dataType:"json",data:t,beforeSend:function(t){$("#i_mdash_loading").removeClass("display-none")},complete:function(){$("#i_mdash_loading").addClass("display-none")},success:function(t){return"SUCCESS"===t.message?SELLED_ITEMS=t.data:"USER_INVALID"===t.message?(alert("로그인 세션이 만료되었습니다."),window.location.href="/login"):void 0},error:function(t){console.log(t)}})}}}function loadClassifyHtml(){return{setClassifySelector:function(){let t='<option value="none">전체상품</option>';CLASSIFYS.forEach(e=>{t+=`\n                    <option value="${e.classifyUuid}">${e.classifyName}</option>\n                `}),$("#i_mdash_classify_selector").html(t)}}}function loadItemOptionHtml(){return{setOptionSelector:function(){let t='<option value="none">전체옵션</option>';OPTIONS.forEach(e=>{t+=`\n                    <option value="${e.optionUuid}">${e.optionName}</option>\n                `}),$("#i_mdash_option_selector").html(t)}}}function loadStoreHtml(){return{setStoreSelector:function(){eventStoreHandler().extractUserSelectSotre();let t='<option value="none">전체마켓</option>';EXTRACT_STORE.forEach(e=>{t+=`\n                    <option value="${e.itemData.itemStoreType}">${e.itemData.itemStoreName}</option>\n                `}),$("#i_mdash_store_selector").html(t)}}}function eventClassifyHandler(){return{selectorValueChange:async function(t){let e=t.value;if(SELECTED_OPTION="none","none"==e)return SELECTED_CLASSIFY="none",void $("#i_mdash_option_selector").html("");SELECTED_CLASSIFY=e,await dataConnect().getItemOptions(e),loadItemOptionHtml().setOptionSelector()}}}function eventItemOptionHandler(){return{selectorValueChange:async function(t){let e=t.value;SELECTED_OPTION="none"!=e?e:"none"}}}function eventStoreHandler(){return{selectorValueChange:async function(t){let e=t.value;"none"==e&&(SELECTED_STORE="none"),SELECTED_STORE=e},extractUserSelectSotre:function(){EXTRACT_STORE=SELLED_ITEMS.filter((t,e,a)=>a.findIndex(e=>e.itemData.itemStoreType===t.itemData.itemStoreType)===e)}}}async function init(){regMainDashboardObjectInitialize(),chartLoader().hideAndShow(),calandarHandler().loadInit(),await initializeDataConnectFetch(),initializeLoadHtml(),chartLoader().load(),AlphaPostShareDataInit()}async function searchForData(){await dataConnect().getSellItemByCondition(),loadTableHtml().selledItemsSumHtml(),chartLoader().load()}async function initializeDataConnectFetch(){await dataConnect().getItemClassifys(),await dataConnect().getDeletedItemClassifys(),await dataConnect().getSellItemsByDateTime(),await dataConnect().getStores()}function initializeLoadHtml(){loadClassifyHtml().setClassifySelector(),loadStoreHtml().setStoreSelector(),loadTableHtml().selledItemsSumHtml()}function regMainDashboardObjectInitialize(){mainDashObjectInit(),charObjectInit()}function mainDashObjectInit(){USER_ACCESS="NONE",CLASSIFYS=[],OPTIONS=[],STORES=[],EXTRACT_STORE=[],TOTAL_VALUE_SUM=[],SELECTED_CLASSIFY="none",SELECTED_OPTION="none",SELECTED_STORE="none",ORDERBY="DESC",DATE_SETTING={startDate:new Date,endDate:new Date},SELLED_ITEMS=[],ALPHA_POST={postList:[],length:0,currentPageNum:0,prevPageNum:0,nextPageNum:0,pageSize:0}}async function AlphaPostShareDataInit(){await shareDataConnect().getPostAll(),loadShareHtml().setShareMessageList().set()}function shareDataConnect(){return{getPostAll:async function(t){await $.ajax({url:"/api/item_manager/mdash/get/alpost/all",type:"GET",contentType:"application/json",dataType:"json",data:{pageNum:t||0},beforeSend:function(t){$("#i_mdash_loading").removeClass("display-none")},complete:function(){$("#i_mdash_loading").addClass("display-none")},success:function(t){ALPHA_POST.length=t.length,ALPHA_POST.postList=t.postList,ALPHA_POST.currentPageNum=t.currentPageNum,ALPHA_POST.prevPageNum=t.prevPageNum,ALPHA_POST.nextPageNum=t.nextPageNum,ALPHA_POST.pageSize=t.pageSize},error:function(t){if(403===t.status)return alert("세션이 만료되었습니다."),window.location.reload()}})},addPostOne:async function(t){let e=JSON.stringify({desc:t,image:""});await $.ajax({url:"/api/item_manager/mdash/add/alpost/one",type:"POST",contentType:"application/json",dataType:"json",data:e,beforeSend:function(t){t.setRequestHeader("X-XSRF-TOKEN",getCookie("XSRF-TOKEN")),$("#i_mdash_loading").removeClass("display-none")},complete:function(){$("#i_mdash_loading").addClass("display-none")},success:function(t){return"USER_INVALID"===t.message?(alert("세션이 만료되었습니다."),window.location.href="/login"):"SUCCESS"!==t.message?"FAILURE"===t.message?(alert("DB Search error code : SDGSG500"),window.location.reload()):(alert("undefined error code : SDGSG"),window.location.reload()):void 0},error:function(t){if(403===t.status)return alert("세션이 만료되었습니다."),window.location.reload();alert("undefined error code : SDGSG")}})},deletePostOne:async function(t){let e=JSON.stringify(t);await $.ajax({url:"/api/item_manager/mdash/delete/alpost/one",type:"POST",contentType:"application/json",dataType:"json",data:e,beforeSend:function(t){t.setRequestHeader("X-XSRF-TOKEN",getCookie("XSRF-TOKEN")),$("#i_mdash_loading").removeClass("display-none")},complete:function(){$("#i_mdash_loading").addClass("display-none")},success:function(t){return"USER_INVALID"===t.message?(alert("세션이 만료되었습니다."),window.location.href="/login"):"SUCCESS"!==t.message?"FAILURE"===t.message?(alert("DB Search error code : SDGSG500"),window.location.reload()):(alert("undefined error code : SDGSG"),window.location.reload()):void 0},error:function(t){return 403===t.status?(alert("세션이 만료되었습니다."),window.location.reload()):(alert("undefined error code : SDGSG"),window.location.reload())}})}}}function loadShareHtml(){return{setShareMessageList:function(){return{set:function(){let t="",e="",a=ALPHA_POST.length/ALPHA_POST.pageSize,o=ALPHA_POST.currentPageNum*ALPHA_POST.pageSize;for(let t=0;t<a;t++)e+=`<li class="page-item"><button class="page-link" onclick="eventShareHandler().pageLink().numberClick(${t})" st-pagenation-num=${t}>${t+1}</button></li>`;let n=`\n                        <nav aria-label="Page navigation example">\n                            <ul class="pagination pagination-lg justify-content-center">\n                            <li class="page-item">\n                                <button class="page-link" onclick="eventShareHandler().pageLink().prevClick()">\n                                    <span aria-hidden="true">&laquo;</span>\n                                </button>\n                            </li>\n                            ${e}\n                            <li class="page-item">\n                                <button class="page-link" onclick="eventShareHandler().pageLink().nextClick()">\n                                    <span aria-hidden="true">&raquo;</span>\n                                </button>\n                            </li>\n                            </ul>\n                        </nav>\n                    `;ALPHA_POST.postList.forEach((e,a)=>{let n=e.desc,r=n.length>20?n.substring(0,20)+"...":n,s=e.writerName,l=dateToYYYYMMDD(e.createdAt);t+=`\n                            <div class="card mt-2">\n                                <div class="card-header">\n                                    <span>${o+a+1}. 유저 : ${s} | 등록일 : ${l}</span>\n                                    ${"SELF"==e.writerType?`<span class="text-danger">[나의 글]</span><button type="button" class="btn btn-outline-danger float-right" onclick="eventShareHandler().deletePost('${e.postId}')">삭제</button>`:""}\n                                </div>\n                                <div class="card-body">\n                                    <h5 class="card-title">${r}</h5>\n                                    <pre class="card-text">${n}</pre>\n                                </div>\n                            </div>\n                        `}),t+=`<div class="m-2">${n}</div>`,$("#i_mdash_share_message_box").html(t),$(`button[st-pagenation-num=${ALPHA_POST.currentPageNum}]`).addClass("st-button-clicked")}}}}}function eventShareHandler(){return{shareClick:async function(){let t=$("#i_mdash_share_desc");$("#i_mdash_share_desc").val().length<=0||(await shareDataConnect().addPostOne(t.val()),await shareDataConnect().getPostAll(),loadShareHtml().setShareMessageList().set(),t.val(""))},deletePost:async function(t){let e=ALPHA_POST.postList.filter(e=>e.postId==t)[0];await shareDataConnect().deletePostOne(e),await shareDataConnect().getPostAll(ALPHA_POST.currentPageNum),loadShareHtml().setShareMessageList().set()},pageLink:function(){return goToByScroll("div[sttg=mdash-alpha-post]"),{prevClick:async function(){await shareDataConnect().getPostAll(ALPHA_POST.prevPageNum),loadShareHtml().setShareMessageList().set()},numberClick:async function(t){await shareDataConnect().getPostAll(t),loadShareHtml().setShareMessageList().set()},nextClick:async function(){await shareDataConnect().getPostAll(ALPHA_POST.nextPageNum),loadShareHtml().setShareMessageList().set()}}}}}function loadTableHtml(){return{selledItemsHtml:function(){let t="\n                \n            ";SELLED_ITEMS.forEach((e,a)=>{let o=tableDataHandler().costValCalc(e),n=o.getTotSales(),r=o.getTotProfit();t+=`\n                    <tr>\n                        <th scope="row">${a+1}</th>\n                        <th scope="row">\n                            ${calandarHandler().formatDateFitInput(e.sellSelldate)}\n                        </th>\n                        <th>${e.itemData.itemName}</th>\n                        <td>${e.itemData.itemStoreName}</td>\n                        <td id="i_td_sellTag_box_${e.sellId}">\n                            <span>${e.sellTag}</span>\n                        </td>\n                        <td id="i_td_sellCount_box_${e.sellId}">\n                            <span>${e.sellCount}</span>\n                        </td>\n                        <td>${numberWithCommas(n)}</td>\n                        <td>${numberWithCommas(r)}</td>\n                        <td>${numberWithCommas(e.sellTotAdsCost)}</td>\n                    </tr>\n                `});let e="",a=tableDataHandler().handleDataTotalSumValue().getTotalValueArr();e+=`\n                    <tr>\n                        <th scope="row">총합계</th>\n                        <th scope="row">${a.startDate}~${a.endDate}</th>\n                        <th></th>\n                        <th></th>\n                        <th></th>\n                        \n                        <th id="i_td_sellCount_box_${a.itemId}">\n                            <span>${a.sellCountSum}</span>\n                        </th>\n                        <th>${numberWithCommas(a.totSalesSum)}</th>\n                        <th>${numberWithCommas(a.totProfitSum)}</th>\n                        <th>${numberWithCommas(a.totAdsCostSum)}</th>\n                    </tr>\n            `;let o=`\n                <table class="table overflow-table text-center table-hover ty-st-mDash-table">\n                    <thead class="ty-st-mDash-thead">\n                    <tr>\n                        <th scope="col" width="50">#</th>\n                        <th scope="col" width="180">판매 날짜&nbsp;&nbsp;&nbsp;<button type="button" class="btn btn-outline-light" onclick="tableDataHandler().turnOrderByClick()"><i class="fas fa-sort"></i></button></th>\n                        <th scope="col" width="200">상품명</th>\n                        <th scope="col" width="100">마켓 종류</th>\n                        <th scope="col" width="100">상품 태그</th>\n                        <th scope="col" width="80">판매 개수 <div class="st-sd-sell-unit">단위 : [개]</div></th>\n                        <th scope="col" width="150">수익(매출) 합계<div class="st-sd-sell-unit">단위 : [원]</div></th>\n                        <th scope="col" width="150">순수익 합계<div class="st-sd-sell-unit">단위 : [원]</div></th>\n                        <th scope="col" width="150">광고비 합계<div class="st-sd-sell-unit">단위 : [원]</div></th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                        ${t}\n                    </tbody>\n                    <tfoot class="ty-st-mDash-tfoot">\n                        ${e}\n                    </tfoot>\n                  \n                </table>\n            `;$("#i_ty_table_date_sum").removeClass("ty-st-mDash-table-date-btn-active-left"),$("#i_ty_table_date_data").addClass("ty-st-mDash-table-date-btn-active-right"),$("#i_mdash_selled_item_list").html(o)},selledItemsSumHtml:function(){let t="\n                \n            ";tableDataHandler().handleDataByItemName().getItemDataArr().forEach((e,a)=>{t+=`\n                    <tr>\n                        <th scope="row">${a+1}</th>\n                        <th scope="row">${e.startDate}~${e.endDate}</th>\n                        <th>${e.itemName}</th>\n                        <td>${e.itemStoreName}</td>\n                        <td id="i_td_sellCount_box_${e.itemId}">\n                            <span>${e.sellCountSum}</span>\n                        </td>\n                        <td>${numberWithCommas(e.totSalesSum)}</td>\n                        <td>${numberWithCommas(e.totProfitSum)}</td>\n                        <td>${numberWithCommas(e.totAdsCostSum)}</td>\n                    </tr>\n                `});let e="",a=tableDataHandler().handleDataTotalSumValue().getTotalValueArr();e+=`\n                    <tr>\n                        <th scope="row">총합계</th>\n                        <th scope="row">${a.startDate}~${a.endDate}</th>\n                        <th></th>\n                        <th></th>\n                        <th id="i_td_sellCount_box_${a.itemId}">\n                            <span>${a.sellCountSum}</span>\n                        </th>\n                        <th>${numberWithCommas(a.totSalesSum)}</th>\n                        <th>${numberWithCommas(a.totProfitSum)}</th>\n                        <th>${numberWithCommas(a.totAdsCostSum)}</th>\n                    </tr>\n                `;let o=`\n                <table class="table overflow-table text-center table-hover ty-st-mDash-table">\n                    <thead class="ty-st-mDash-thead">\n                    <tr>\n                        <th scope="col" width="50">#</th>\n                        <th scope="col" width="180">판매 날짜&nbsp;&nbsp;&nbsp;</th>\n                        <th scope="col" width="200">상품명</th>\n                        <th scope="col" width="120">마켓 종류</th>\n                        <th scope="col" width="120">판매 개수 <div class="st-sd-sell-unit">단위 : [개]</div></th>\n                        <th scope="col" width="150">수익(매출) 합계<div class="st-sd-sell-unit">단위 : [원]</div></th>\n                        <th scope="col" width="150">순수익 합계<div class="st-sd-sell-unit">단위 : [원]</div></th>\n                        <th scope="col" width="150">광고비 합계<div class="st-sd-sell-unit">단위 : [원]</div></th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                        ${t}\n                    </tbody>\n                    <tfoot class="ty-st-mDash-tfoot">\n                        ${e}\n                    </tfoot>\n                </table>\n            `;$("#i_ty_table_date_data").removeClass("ty-st-mDash-table-date-btn-active-right"),$("#i_ty_table_date_sum").addClass("ty-st-mDash-table-date-btn-active-left"),$("#i_mdash_selled_item_list").html(o)}}}function tableDataHandler(){return{costValCalc:function(t){let e=Number(t.sellCommitionCost),a=Number(t.sellPrice),o=Number(t.sellCustomerTransCost),n=Number(t.sellSellerRealTransCost),r=Number(t.sellPurchaseCost),s=Number(t.sellPurchaseTransCost),l=Number(t.sellExtraCharge),i=Number(t.sellCount),d=Number(t.sellTotAdsCost),m=Number(t.sellTotExpensesCost),u=Number(t.sellTotEarningCost),c=Number(t.sellTotPurchaseTransCost),h=Number(t.sellTotCustomerTransCost),S=Number(t.sellTotSellerRealTransCost),g=a+o,C=r+s+n+l+parseInt(g*(e/100)),b=g-C,f=0;f=0===g?0:Number((b/g*100).toFixed(2));let p=g*i+h,T=C*i+d+m-u+c+parseInt(h*(e/100))+S,A=p-T,_=0,y=0,D=0;return 0!=d&&(_=Number((p/d*100).toFixed(2)),y=Number((A/d*100).toFixed(2))),0!=T&&(D=Number((A/T*100).toFixed(2))),{getUnitSales:function(){return g},getUnitProfit:function(){return b},getUnitProfitRate:function(){return f},getTotProfit:function(){return A},getTotSales:function(){return p},getAdsROAS:function(){return _},getAdsROI:function(){return y},getSellROI:function(){return D},getTotMarginCost:function(){return T}}},handleDataByItemName:function(){var t=new Set;let e=[],a=[],o=[];return SELLED_ITEMS.forEach(e=>{e.sellCount>0&&(t.has(e.itemId)||(t.add(e.itemId),a.push(""+e.itemData.itemName),o.push(""+e.itemData.itemStoreName)))}),t.forEach(t=>{let a={itemId:"",itemName:"",totSalesSum:0,totProfitSum:0,sellCountSum:0,totAdsCostSum:0,totMarginCostSum:0,sellSelldate:"",startDate:calandarHandler().formatDateFitInput(DATE_SETTING.startDate),endDate:calandarHandler().formatDateFitInput(DATE_SETTING.endDate)};SELLED_ITEMS.forEach(e=>{if(t==e.itemId){let t=tableDataHandler().costValCalc(e),o=t.getTotSales(),n=t.getTotProfit(),r=t.getTotMarginCost();a.itemId=e.itemId,a.itemName=""+e.itemData.itemName,a.itemStoreName=""+e.itemData.itemStoreName,a.totSalesSum+=o,a.totProfitSum+=n,a.sellCountSum+=e.sellCount,a.totAdsCostSum+=e.sellTotAdsCost,a.totMarginCostSum+=r,a.sellSelldate=e.sellSelldate}}),e.push(a)}),{getItemDataArr:function(){return e},getItemNameRange:function(){return a},getItemStoreRange:function(){return o},getTotSalesSumArr:function(){return e.map(t=>t.totSalesSum)},getTotProfitSumArr:function(){return e.map(t=>t.totProfitSum)},getSellCountDataArr:function(){return e.map(t=>t.sellCountSum)},getTotAdsSumArr:function(){return e.map(t=>t.totAdsCostSum)}}},handleDataTotalSumValue:function(){let t={},e={totSalesSum:0,totProfitSum:0,sellCountSum:0,totAdsCostSum:0,totMarginCostSum:0,sellSelldate:"",startDate:calandarHandler().formatDateFitInput(DATE_SETTING.startDate),endDate:calandarHandler().formatDateFitInput(DATE_SETTING.endDate)};return SELLED_ITEMS.forEach(t=>{let a=tableDataHandler().costValCalc(t),o=a.getTotSales(),n=a.getTotProfit(),r=a.getTotMarginCost();e.totSalesSum+=o,e.totProfitSum+=n,e.sellCountSum+=t.sellCount,e.totAdsCostSum+=t.sellTotAdsCost,e.totMarginCostSum+=r,e.sellSelldate=t.sellSelldate}),t=e,{getTotalValueArr:function(){return t},getTotSalesSum:function(){return t.totSalesSum},getTotProfitSum:function(){return t.totProfitSum},getTotSellCount:function(){return t.sellCountSum},getTotAdsSum:function(){return t.totAdsCostSum}}},turnOrderByClick:async function(){"DESC"===ORDERBY?ORDERBY="ASC":ORDERBY="DESC",await dataConnect().getSellItemByCondition(),loadTableHtml().selledItemsHtml()},tableModeChangeClick:function(){return{setSum:function(){loadTableHtml().selledItemsSumHtml()},setDate:function(){loadTableHtml().selledItemsHtml()}}}}}init(),function(){var t,e=document.documentElement,a=window,o=a.scrollY||e.scrollTop,n=0,r=0,s=$("#i_ty_mDash_nav"),l=function(t,e){2===t&&e>850?(r=t,s.removeClass("hide")):1===t?(s.addClass("hide"),r=t):3===t&&e<850&&(s.removeClass("hide"),r=t)};window.addEventListener("scroll",(function(){(t=a.scrollY||e.scrollTop)>o&&t>850?n=2:t<o&&t>850?n=1:t<850&&(n=3),n!==r&&l(n,t),o=t}))}();